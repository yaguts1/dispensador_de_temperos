<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dispenser de Temperos</title>
  <link rel="stylesheet" href="style.css">
  <script defer src="app.js"></script>
</head>
<body>
  <div class="wrap">
    <header class="header">
      <h1 class="header-title">Dispenser de Temperos</h1>
      <p class="header-subtitle">
        Monte, salve e consulte receitas com precisão de 1 g
        (1–500 g por ingrediente, até 4 ingredientes).
      </p>
      <nav class="tabs" role="tablist" aria-label="Navegação do aplicativo">
        <button class="tab-button" id="tab-montar" role="tab" aria-selected="true" aria-controls="pane-montar">
          Montar Receita
        </button>
        <button class="tab-button" id="tab-consultar" role="tab" aria-selected="false" aria-controls="pane-consultar">
          Consultar Receitas
        </button>
      </nav>
    </header>

    <main>
      <section id="pane-montar" class="card" role="tabpanel" aria-labelledby="tab-montar">
        <form id="formReceita">
          <fieldset class="fieldset">
            <legend class="fieldset-legend">Informações básicas</legend>
            <label for="nome" class="form-label">Nome da Receita</label>
            <input
              id="nome"
              name="nome"
              type="text"
              minlength="1"
              maxlength="120"
              placeholder="Ex.: Churrasco do Yaguts"
              class="form-input"
              required
            />
            <p class="form-hint">Não repita o <strong>reservatório</strong> na mesma receita. Cada ingrediente: <strong>1–500 g</strong>.</p>
          </fieldset>

          <fieldset class="fieldset">
            <legend class="fieldset-legend">Ingredientes (1–4)</legend>
            <div class="ingredients-header" aria-hidden="true">
              <div class="header-cell">Tempero</div>
              <div class="header-cell">Reservatório</div>
              <div class="header-cell">Quantidade (g)</div>
              <div class="header-cell"></div>
            </div>
            <div id="linhas" class="ingredients-list"></div>
            <div class="form-actions">
              <button class="button ghost" type="button" id="addLinha">
                + Adicionar ingrediente
              </button>
              <button class="button primary" type="submit" id="btnSalvar">
                Salvar receita
              </button>
              <button class="button dark" type="button" id="btnTeste">
                Teste rápido
              </button>
            </div>
          </fieldset>

          <details class="api-details">
            <summary class="api-summary">Ver resposta da API</summary>
            <pre id="saida" class="api-log" aria-live="polite"></pre>
          </details>
        </form>
      </section>

      <section id="pane-consultar" class="card" role="tabpanel" aria-labelledby="tab-consultar" hidden>
        <div class="search-bar">
          <input
            id="idBusca"
            type="number"
            min="1"
            placeholder="ID da receita (ex.: 1)"
            inputmode="numeric"
            class="form-input"
          />
          <button id="btnBuscar" class="button primary" type="button">Buscar</button>
          <button id="btnListar" class="button ghost" type="button">Listar todas</button>
        </div>
        <div id="lista" class="recipes-list" aria-live="polite"></div>
        <small class="form-hint">A listagem depende de o backend expor <code>GET /receitas/</code> e o detalhe <code>GET /receitas/{id}</code>.</small>
      </section>
    </main>
  </div>

  <div id="toast" class="toast" role="status" aria-live="polite"></div>
  <noscript class="noscript">
    Este site precisa de JavaScript habilitado para funcionar corretamente.
  </noscript>
</body>
</html>